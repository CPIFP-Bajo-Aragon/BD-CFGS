create schema nominas:
use nominas;

DROP TABLE IF EXISTS `departamentos`;
CREATE TABLE `departamentos` (
  `codigo` decimal(5,0) NOT NULL,
  `nombre` varchar(20) NOT NULL,
  PRIMARY KEY (`codigo`),
  UNIQUE KEY `nombre` (`nombre`)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS `empleados`;
CREATE TABLE `empleados` (
  `codigo` decimal(5,0) NOT NULL,
  `nombre` varchar(30) NOT NULL,
  `hijos` decimal(2,0) NOT NULL,
  `retencion` decimal(2,0) NOT NULL,
  `cuenta` char(20) NOT NULL,
  `fnacimiento` date DEFAULT NULL,
  PRIMARY KEY (`codigo`),
  UNIQUE KEY `cuenta` (`cuenta`)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS `just_nominas`;
CREATE TABLE `just_nominas` (
  `mes` decimal(2,0) NOT NULL,
  `ejercicio` decimal(4,0) NOT NULL,
  `ingreso` decimal(8,0) NOT NULL,
  `descuento` decimal(8,0) NOT NULL,
  `cod_emp` decimal(5,0) NOT NULL,
  PRIMARY KEY (`mes`,`ejercicio`,`cod_emp`),
  KEY `cod_emp` (`cod_emp`),
  CONSTRAINT `just_nominas_ibfk_1` FOREIGN KEY (`cod_emp`) REFERENCES `empleados` (`codigo`)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS `lineas`;
CREATE TABLE `lineas` (
  `numero` decimal(5,0) NOT NULL,
  `cantidad` decimal(8,0) NOT NULL,
  `base` decimal(8,0) DEFAULT NULL,
  `porcentaje` decimal(2,0) DEFAULT NULL,
  `mes` decimal(2,0) NOT NULL,
  `ejercicio` decimal(4,0) NOT NULL,
  `cod_emp` decimal(5,0) NOT NULL,
  PRIMARY KEY (`numero`,`mes`,`ejercicio`,`cod_emp`),
  KEY `mes` (`mes`,`ejercicio`,`cod_emp`),
  CONSTRAINT `lineas_ibfk_1` FOREIGN KEY (`mes`, `ejercicio`, `cod_emp`) REFERENCES `just_nominas` (`mes`, `ejercicio`, `cod_emp`)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS `trabajan`;
CREATE TABLE `trabajan` (
  `cod_emp` decimal(5,0) NOT NULL,
  `cod_dep` decimal(5,0) NOT NULL,
  `funcion` varchar(30) NOT NULL,
  PRIMARY KEY (`cod_emp`,`cod_dep`),
  KEY `cod_dep` (`cod_dep`),
  CONSTRAINT `trabajan_ibfk_1` FOREIGN KEY (`cod_emp`) REFERENCES `empleados` (`codigo`),
  CONSTRAINT `trabajan_ibfk_2` FOREIGN KEY (`cod_dep`) REFERENCES `departamentos` (`codigo`)
) ENGINE=InnoDB;



INSERT INTO `departamentos` VALUES (5,'Administración'),(2,'Compras'),(6,'Dirección'),(3,'Marketing'),(4,'Recursos Humanos'),(1,'Ventas');
INSERT INTO `just_nominas` VALUES (1,2007,1200,200,1),(1,2007,1200,200,111),(1,2007,1200,200,2031),(1,2007,1500,300,2341),(1,2007,1200,200,9876),(1,2007,1000,100,11223),(1,2007,1200,200,64738),(1,2007,1200,200,67890),(1,2007,1200,200,73152),(1,2007,1200,200,76543),(1,2007,1200,200,96352),(10,2006,1200,200,1),(10,2006,1200,200,111),(10,2006,1200,200,2031),(10,2006,1500,300,2341),(10,2006,1200,200,9876),(10,2006,1000,100,11223),(10,2006,1200,200,64738),(10,2006,1200,200,67890),(10,2006,1200,200,73152),(10,2006,1200,200,76543),(10,2006,1200,200,96352),(11,2006,1200,200,1),(11,2006,1200,200,111),(11,2006,1200,200,2031),(11,2006,1500,300,2341),(11,2006,1200,200,9876),(11,2006,1000,100,11223),(11,2006,1200,200,64738),(11,2006,1200,200,67890),(11,2006,1200,200,73152),(11,2006,1200,200,76543),(11,2006,1200,200,96352),(12,2006,1200,200,1),(12,2006,1200,200,111),(12,2006,1200,200,2031),(12,2006,1500,300,2341),(12,2006,1200,200,9876),(12,2006,1000,100,11223),(12,2006,1200,200,64738),(12,2006,1200,200,67890),(12,2006,1200,200,73152),(12,2006,1200,200,76543),(12,2006,1200,200,96352);
INSERT INTO `lineas` VALUES (1,1200,NULL,NULL,1,2007,1),(1,1200,NULL,NULL,1,2007,111),(1,1200,NULL,NULL,1,2007,2031),(1,1200,NULL,NULL,1,2007,2341),(1,1200,NULL,NULL,1,2007,9876),(1,1200,NULL,NULL,1,2007,11223),(1,1200,NULL,NULL,1,2007,64738),(1,1200,NULL,NULL,1,2007,67890),(1,1200,NULL,NULL,1,2007,73152),(1,1200,NULL,NULL,1,2007,76543),(1,1200,NULL,NULL,1,2007,96352),(1,1200,NULL,NULL,10,2006,1),(1,1200,NULL,NULL,10,2006,111),(1,1200,NULL,NULL,10,2006,2031),(1,1200,NULL,NULL,10,2006,2341),(1,1200,NULL,NULL,10,2006,9876),(1,1200,NULL,NULL,10,2006,11223),(1,1200,NULL,NULL,10,2006,64738),(1,1200,NULL,NULL,10,2006,67890),(1,1200,NULL,NULL,10,2006,73152),(1,1200,NULL,NULL,10,2006,76543),(1,1200,NULL,NULL,10,2006,96352),(1,1200,NULL,NULL,11,2006,1),(1,1200,NULL,NULL,11,2006,111),(1,1200,NULL,NULL,11,2006,2031),(1,1200,NULL,NULL,11,2006,2341),(1,1200,NULL,NULL,11,2006,9876),(1,1200,NULL,NULL,11,2006,11223),(1,1200,NULL,NULL,11,2006,64738),(1,1200,NULL,NULL,11,2006,67890),(1,1200,NULL,NULL,11,2006,73152),(1,1200,NULL,NULL,11,2006,76543),(1,1200,NULL,NULL,11,2006,96352),(1,1200,NULL,NULL,12,2006,1),(1,1200,NULL,NULL,12,2006,111),(1,1200,NULL,NULL,12,2006,2031),(1,1200,NULL,NULL,12,2006,2341),(1,1200,NULL,NULL,12,2006,9876),(1,1200,NULL,NULL,12,2006,11223),(1,1200,NULL,NULL,12,2006,64738),(1,1200,NULL,NULL,12,2006,67890),(1,1200,NULL,NULL,12,2006,73152),(1,1200,NULL,NULL,12,2006,76543),(1,1200,NULL,NULL,12,2006,96352),(2,-200,1200,10,1,2007,1),(2,-200,1200,10,1,2007,111),(2,-200,1200,10,1,2007,2031),(2,-200,1200,10,1,2007,2341),(2,-200,1200,10,1,2007,9876),(2,-200,1200,10,1,2007,11223),(2,-200,1200,10,1,2007,64738),(2,-200,1200,10,1,2007,67890),(2,-200,1200,10,1,2007,73152),(2,-200,1200,10,1,2007,76543),(2,-200,1200,10,1,2007,96352),(2,-200,1200,10,10,2006,1),(2,-200,1200,10,10,2006,111),(2,-200,1200,10,10,2006,2031),(2,-200,1200,10,10,2006,2341),(2,-200,1200,10,10,2006,9876),(2,-200,1200,10,10,2006,11223),(2,-200,1200,10,10,2006,64738),(2,-200,1200,10,10,2006,67890),(2,-200,1200,10,10,2006,73152),(2,-200,1200,10,10,2006,76543),(2,-200,1200,10,10,2006,96352),(2,-200,1200,10,11,2006,1),(2,-200,1200,10,11,2006,111),(2,-200,1200,10,11,2006,2031),(2,-200,1200,10,11,2006,2341),(2,-200,1200,10,11,2006,9876),(2,-200,1200,10,11,2006,11223),(2,-200,1200,10,11,2006,64738),(2,-200,1200,10,11,2006,67890),(2,-200,1200,10,11,2006,73152),(2,-200,1200,10,11,2006,76543),(2,-200,1200,10,11,2006,96352),(2,-200,1200,10,12,2006,1),(2,-200,1200,10,12,2006,111),(2,-200,1200,10,12,2006,2031),(2,-200,1200,10,12,2006,2341),(2,-200,1200,10,12,2006,9876),(2,-200,1200,10,12,2006,11223),(2,-200,1200,10,12,2006,64738),(2,-200,1200,10,12,2006,67890),(2,-200,1200,10,12,2006,73152),(2,-200,1200,10,12,2006,76543),(2,-200,1200,10,12,2006,96352);
INSERT INTO `empleados` VALUES (1,'José Luis Pérez',2,12,'12342233121122334455','1964-12-04'),(11,'Juan Ignacio Martinez',0,10,'12341234121234567890','1960-01-02'),(111,'Encarna Lopez Lopez',0,10,'99118822773344665500','1968-03-15'),(2031,'Ines Montero Zafra',1,8,'42341534129234567890','1972-02-22'),(2341,'Fernando Romero Días',1,8,'21341234560987654321','1955-09-25'),(9876,'Rosa Lorite Lopez',0,10,'52341234521214567890','1975-08-18'),(11223,'Manuel Lopez Marín',0,10,'55443322110099887766','1963-12-13'),(64738,'Andrés Morales Martín',3,7,'22341154116231563690','1964-01-20'),(67890,'Alfonso Gutierrez Lopez',1,12,'12563478001234567890','1967-11-05'),(73152,'María Pascual Rojo',3,7,'12351234151234567590','1973-12-09'),(76543,'Francisca Colate Gonzalez',3,7,'12343234121334567893','1969-03-02'),(96352,'Lola Martinez Contreras',1,11,'22341224121224567820','1975-03-09');
INSERT INTO `trabajan` VALUES (1,1,'Vendedor'),(1,3,'Diseñador'),(111,1,'Vendedor'),(2031,1,'Vendedor'),(2341,5,'Administrativo'),(9876,6,'Director'),(11223,4,'Selección de Personal'),(11223,5,'Administrativo'),(11223,6,'Asesor Dirección'),(64738,1,'Vendedor'),(64738,2,'Gestor de compras'),(64738,3,'Diseñador'),(64738,4,'Selección de Personal'),(67890,2,'Gestor de compras'),(73152,3,'Publicista'),(73152,5,'Administrativo'),(76543,1,'Vendedor'),(96352,3,'Publicista'),(96352,4,'Encuestador'),(96352,5,'Secretaria de Dirección');



