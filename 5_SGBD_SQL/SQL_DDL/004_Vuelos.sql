create schema vuelos;
use vuelos;

DROP TABLE IF EXISTS `vuelo`;
CREATE TABLE `vuelo` (
  `COD_VUELO` varchar(10) NOT NULL,
  `HORA_SALIDA` varchar(15) DEFAULT NULL,
  `DESTINO` varchar(15) DEFAULT NULL,
  `PROCEDENCIA` varchar(15) DEFAULT NULL,
  `PLAZAS_FUMADOR` int DEFAULT NULL,
  `PLAZAS_NO_FUMADOR` int DEFAULT NULL,
  `PLAZAS_TURISTA` int DEFAULT NULL,
  `PLAZAS_PRIMERA` int DEFAULT NULL,
  PRIMARY KEY (`COD_VUELO`)
);

DROP TABLE IF EXISTS `pasajero`;
CREATE TABLE `pasajero` (
  `NUM_PAS` int NOT NULL,
  `DNI_PAS` varchar(10) NOT NULL UNIQUE,
  `NOMBRE` varchar(10) NOT NULL,
  `DIRECCION` varchar(25) DEFAULT NULL,
  `MUNICIPIO` varchar(25) DEFAULT NULL,
  `FECHA_NAC` date,
  PRIMARY KEY (`NUM_PAS`)
) ;

DROP TABLE IF EXISTS `viajar`;
CREATE TABLE `viajar` (
  `NUM_PAS` int NOT NULL,
  `COD_VUELO` varchar(10) NOT NULL,
  `FECHA_VUELO` date NOT NULL,
  `TIPO_PLAZA` varchar(2) DEFAULT NULL,
  `FUMADOR` varchar(2) DEFAULT NULL,
  PRIMARY KEY (`NUM_PAS`,`COD_VUELO`,`FECHA_VUELO`),
  CONSTRAINTS `FK_PASAJERO` FOREIGN KEY `NUM_PAS` REFERENCES PASAJERO(`NUM_PAS`),
  CONSTRAINTS `FK_VUELO` FOREIGN KEY `COD_VUELO` REFERENCES VUELO(`COD_VUELO`)
) ;


INSERT INTO `vuelos` VALUES ('IB-BA-46DA','29/03/22','teruel','alca√±iz',50,50,50,50),('IB-BA-46DC','28/03/99-\n12:30','ROMA','MADRID',90,100,160,30),('FR-DC-4667','28/03/99-\n13:30','BRUSELAS','SEVILLA',90,100,160,30),('AV-DC-347','29/03/99-\n13:35','VALENCIA','ROMA',100,200,210,90),('SP-DC-438','30/03/99-\n09:20','MOSCU','SEVILLA',90,100,160,30),('AI-D7-347','30/03/99-\n13:35','BILBAO','MOSCU',100,200,210,90),('IB-D5-347','01/04/99-\n13:35','ZARAGOZA','PARIS',100,200,210,90),('FR-DC7-247','01/04/99-15:35','CORDOBA','EL \nCAIRO',100,100,100,100),('AV-DC9-233','01/04/99-\n17:35','VALENCIA','SOFIA',100,100,100,100),('FR-DC2-269','01/04/99-\n19:00','CORDOBA','MANILA',100,100,180,20),('IB-98779','02/04/99-\n08:00','MADRID','LIMA',200,100,250,50),('AV-DC2-269','02/04/99-12:00','MADRID','LA \nHAYA',100,100,180,20),('AI-1289-9','02/04/99-\n14:30','BARCELONA','BONN',150,100,180,70);
INSERT INTO `pasajeros` VALUES (126,'IB-BA-46DC','TU','SI'),(127,'IB-BA-46DC','PR','NO'),(128,'FR-DC-4667','TU','NO'),(129,'FR-DC-4667','TU','SI'),(130,'AV-DC9-233','TU','SI'),(131,'AV-DC9-233','TU','SI'),(132,'AV-DC9-233','PR','SI'),(133,'IB-D5-347','PR','SI'),(134,'IB-D5-347','PR','SI'),(135,'IB-D5-347','TU','NO'),(136,'IB-D5-347','TU','SI'),(137,'FR-DC-4667','TU','SI'),(138,'FR-DC-4667','TU','NO'),(139,'FR-DC-4667','PR','SI'),(126,'FR-DC-4667','PR','SI'),(130,'AV-DC2-269','TU','SI'),(131,'AV-DC2-269','TU','SI'),(132,'AV-DC2-269','PR','SI'),(133,'AI-1289-9','PR','SI'),(134,'AI-1289-9','PR','SI'),(135,'AI-1289-9','TU','NO'),(136,'AI-1289-9','TU','SI'),(137,'SP-DC-438','TU','SI'),(138,'SP-DC-438','TU','NO'),(139,'SP-DC-438','PR','SI'),(140,'SP-DC-438','PR','SI'),(141,'FR-DC7-247','PR','SI'),(142,'FR-DC7-247','TU','NO'),(143,'FR-DC7-247','TU','SI');

